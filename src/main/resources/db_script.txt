/* EMPLOYEE table */
CREATE TABLE employee (
    employee_id BIGINT(10) NOT NULL AUTO_INCREMENT,
    firstname VARCHAR(50) NULL DEFAULT NULL,
    lastname VARCHAR(50) NULL DEFAULT NULL,
    birth_date DATE NOT NULL,
    cell_phone VARCHAR(15) NOT NULL,
    PRIMARY KEY (employee_id)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB
ROW_FORMAT=DEFAULT
AUTO_INCREMENT=216
 
/* EMPLOYEEDETAIL table */
CREATE TABLE employeedetail (
    employee_id BIGINT(20) NOT NULL AUTO_INCREMENT,
    street VARCHAR(50) NULL DEFAULT NULL,
    city VARCHAR(50) NULL DEFAULT NULL,
    state VARCHAR(50) NULL DEFAULT NULL,
    country VARCHAR(50) NULL DEFAULT NULL,
    PRIMARY KEY (employee_id),
    CONSTRAINT FKEMPL FOREIGN KEY (employee_id) REFERENCES employee (employee_id)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB
ROW_FORMAT=DEFAULT
AUTO_INCREMENT=216


/* DEPARTMENT table */
CREATE TABLE department (
	department_id BIGINT(20) NOT NULL AUTO_INCREMENT,
	dept_name VARCHAR(50) NOT NULL DEFAULT '0',
	PRIMARY KEY (department_id)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB
ROW_FORMAT=DEFAULT
AUTO_INCREMENT=115


/* EMPLOYEES table */
CREATE TABLE employees (
	employee_id BIGINT(10) NOT NULL AUTO_INCREMENT,
	firstname VARCHAR(50) NULL DEFAULT NULL,
	lastname VARCHAR(50) NULL DEFAULT NULL,
	birth_date DATE NULL DEFAULT NULL,
	cell_phone VARCHAR(15) NULL DEFAULT NULL,
	department_id BIGINT(20) NULL DEFAULT NULL,
	PRIMARY KEY (employee_id),
	INDEX FK_DEPT (department_id),
	CONSTRAINT FK_DEPT FOREIGN KEY (department_id) REFERENCES department (department_id)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB
ROW_FORMAT=DEFAULT

/* EMPLOYER table */
CREATE TABLE employer (
	employee_id BIGINT(10) NOT NULL AUTO_INCREMENT,
	firstname VARCHAR(50) NULL DEFAULT NULL,
	lastname VARCHAR(50) NULL DEFAULT NULL,
	manager_id BIGINT(20) NULL DEFAULT NULL,
	PRIMARY KEY (employee_id),
	CONSTRAINT FK_MANAGER FOREIGN KEY (manager_id) REFERENCES employer (employee_id)
)


/* Hibernate Many To Many */

CREATE TABLE teacher (
	teacher_id BIGINT(10) NOT NULL AUTO_INCREMENT,
	firstname VARCHAR(50) NULL DEFAULT NULL,
	lastname VARCHAR(50) NULL DEFAULT NULL,
	PRIMARY KEY (teacher_id)
)


CREATE TABLE meeting (
	meeting_id BIGINT(20) NOT NULL AUTO_INCREMENT,
	subject VARCHAR(50) NOT NULL,
	meeting_date DATE NOT NULL,
	PRIMARY KEY (meeting_id)
)


CREATE TABLE teacher_meeting (
	teacher_id BIGINT(20) NOT NULL,
	meeting_id BIGINT(20) NOT NULL,
	PRIMARY KEY (teacher_id, meeting_id),
	INDEX FK_MEETING (meeting_id),
	CONSTRAINT FK_EMPLOYEE FOREIGN KEY (teacher_id) REFERENCES employee (teacher_id),
	CONSTRAINT FK_MEETING FOREIGN KEY (meeting_id) REFERENCES meeting (meeting_id)
)


/* Hibernate Component mapping */
 CREATE TABLE STUDENT (
	STUDENT_ID BIGINT(10) NOT NULL AUTO_INCREMENT,
	STUDENT_NAME VARCHAR(50) NULL DEFAULT NULL,
	DEPARTMENT VARCHAR(50) NULL DEFAULT NULL,
	STREET VARCHAR(50) NULL DEFAULT NULL,
    CITY VARCHAR(50) NULL DEFAULT NULL,
    STATE VARCHAR(50) NULL DEFAULT NULL,
	PRIMARY KEY (STUDENT_ID)
)
COLLATE='latin1_swedish_ci'
ENGINE=InnoDB
ROW_FORMAT=DEFAULT

